# üîç –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î - —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –Ω–∞–∂–∞—Ç—å

## 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "\l"
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:** –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `weather_db`

---

## 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "\dt"
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:** –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã:
- `weather_data` - —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ
- `weather_aggregated` - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "\d weather_data"
```

**–ò:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "\d weather_aggregated"
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:** –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü (–∫–æ–ª–æ–Ω–∫–∏, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö)

---

## 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö

### –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ weather_data:
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "SELECT COUNT(*) FROM weather_data;"
```

### –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ weather_aggregated:
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "SELECT COUNT(*) FROM weather_aggregated;"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–ø–∏—Å–µ–π –∏–∑ weather_data:
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "SELECT * FROM weather_data ORDER BY time DESC LIMIT 10;"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "SELECT * FROM weather_aggregated;"
```

---

## 5Ô∏è‚É£ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º psql (—É–¥–æ–±–Ω–µ–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db
```

**–ó–∞—Ç–µ–º –≤ psql –Ω–∞–∂–º–∏—Ç–µ:**

- `\dt` - —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
- `\d weather_data` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã weather_data
- `SELECT COUNT(*) FROM weather_data;` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- `SELECT * FROM weather_aggregated;` - –≤—Å–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `\q` - –≤—ã—Ö–æ–¥

---

## üìä –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. **–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ ETL –ø—Ä–æ—Ü–µ—Å—Å–∞ (—á–µ—Ä–µ–∑ Prefect flow –∏–ª–∏ API)
2. **–î–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è** –∫–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ:
   - Prefect flow (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ prefect-server)
   - –ò–ª–∏ —á–µ—Ä–µ–∑ API: `POST http://localhost:8000/etl/ingest`

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É:**
```powershell
docker-compose exec postgres psql -U postgres -d weather_db -c "\dt" -c "SELECT COUNT(*) as weather_data_count FROM weather_data;" -c "SELECT COUNT(*) as aggregated_count FROM weather_aggregated;" -c "SELECT * FROM weather_aggregated;"
```

